(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{1852:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y});var a=t(7876),r=t(4232);let n=e=>{let{isSidebarOpen:s,setIsSidebarOpen:t}=e;return(0,a.jsxs)("aside",{className:"fixed inset-y-0 left-0 bg-indigo-800 text-white w-64 p-4 transform ".concat(s?"translate-x-0":"-translate-x-full","  transition-transform duration-300 ease-in-out z-30"),children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"Raseed AI"}),(0,a.jsx)("button",{onClick:()=>t(!1),className:"text-white focus:outline-none","aria-label":"Close sidebar",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsx)("nav",{children:(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{className:"mb-4",children:(0,a.jsxs)("a",{href:"#",className:"flex items-center p-2 rounded-md hover:bg-indigo-700 transition-colors duration-200",children:[(0,a.jsx)("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001 1h3v-3m-3 3h3v-3m-3 0V9m8 4h2m-2 0h-2"})}),"Dashboard"]})}),(0,a.jsx)("li",{className:"mb-4",children:(0,a.jsxs)("a",{href:"#",className:"flex items-center p-2 rounded-md hover:bg-indigo-700 transition-colors duration-200",children:[(0,a.jsx)("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Reports"]})}),(0,a.jsx)("li",{className:"mb-4",children:(0,a.jsxs)("a",{href:"#",className:"flex items-center p-2 rounded-md hover:bg-indigo-700 transition-colors duration-200",children:[(0,a.jsxs)("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Settings"]})})]})})]})};var i=t(4587),l=t.n(i);let o=e=>{let{setIsSidebarOpen:s}=e;return(0,a.jsxs)("header",{className:"bg-white shadow-md rounded-lg p-4 mb-6 flex justify-between items-center lg:rounded-none lg:shadow-none lg:p-6",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("button",{onClick:()=>s(!0),className:" text-gray-600 mr-4 focus:outline-none","aria-label":"Toggle sidebar",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-indigo-700",children:"Financial Dashboard"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-sm sm:text-base hidden sm:block",children:"Welcome, User!"}),(0,a.jsx)(l(),{src:"https://placehold.co/40x40/E0E7FF/4338CA?text=U",alt:"User Avatar",width:40,height:40,className:"w-10 h-10 rounded-full border-2 border-indigo-400"})]})]})},c=e=>{let{spendingData:s,totalSpending:t,totalSavings:r,projectedSavings:n}=e;return(0,a.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold text-indigo-600 mb-4",children:"Monthly Financial Overview"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-blue-50 p-4 rounded-md shadow-sm text-center",children:[(0,a.jsx)("p",{className:"text-sm text-blue-600",children:"Total Spending"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-blue-800",children:["$",t.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"bg-green-50 p-4 rounded-md shadow-sm text-center",children:[(0,a.jsx)("p",{className:"text-sm text-green-600",children:"Current Savings"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-800",children:["$",r.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"bg-purple-50 p-4 rounded-md shadow-sm text-center",children:[(0,a.jsx)("p",{className:"text-sm text-purple-600",children:"Projected Savings Gap"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-purple-800",children:["$",n.toFixed(2)]})]})]}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-indigo-600 mb-3",children:"Spending by Category"}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-6",children:[(0,a.jsxs)("div",{className:"relative w-40 h-40 sm:w-48 sm:h-48 flex-shrink-0",children:[(0,a.jsxs)("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[(0,a.jsx)("circle",{cx:"50",cy:"50",r:"45",fill:"#e0e0e0"}),(0,a.jsx)("circle",{cx:"50",cy:"50",r:"45",fill:"transparent",stroke:"#EF4444",strokeWidth:"10",strokeDasharray:"25 75",strokeDashoffset:"0",transform:"rotate(-90 50 50)"}),(0,a.jsx)("circle",{cx:"50",cy:"50",r:"45",fill:"transparent",stroke:"#3B82F6",strokeWidth:"10",strokeDasharray:"10 90",strokeDashoffset:"-25",transform:"rotate(-90 50 50)"}),(0,a.jsx)("circle",{cx:"50",cy:"50",r:"45",fill:"transparent",stroke:"#10B981",strokeWidth:"10",strokeDasharray:"11 89",strokeDashoffset:"-35",transform:"rotate(-90 50 50)"}),(0,a.jsx)("circle",{cx:"50",cy:"50",r:"45",fill:"transparent",stroke:"#6B7280",strokeWidth:"10",strokeDasharray:"25 75",strokeDashoffset:"-46",transform:"rotate(-90 50 50)"})]}),(0,a.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center text-xl font-bold text-indigo-700",children:["".concat((t/(t+r)*100).toFixed(0),"%")," "]})]}),(0,a.jsx)("div",{className:"flex-grow w-full",children:(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:s.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-2 bg-gray-50 rounded-md shadow-sm",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[e.category,":"]}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:["$",e.amount," (",e.percentage,"%)"]})]},s))})})]}),(0,a.jsx)("div",{className:"mt-4 text-right text-gray-500 text-sm",children:"*Pie chart is a simplified SVG representation. For real charts, use a library like Recharts."})]})},d=e=>{let{savingsGoals:s,handleReceiptUpload:t}=e;return(0,a.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold text-indigo-600 mb-4",children:"Gamified Savings"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Track your progress towards savings goals and earn badges!"}),(0,a.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,a.jsxs)("div",{className:"bg-blue-50 p-4 rounded-md shadow-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("h3",{className:"font-medium text-blue-800",children:e.name}),(0,a.jsxs)("span",{className:"text-sm text-blue-600",children:[e.progress,"% Complete"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:"".concat(e.progress,"%")}})}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["$",e.current," / $",e.target," saved"]})]},e.name))}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("h3",{className:"font-medium text-lg text-indigo-600 mb-3",children:"Your Badges & Streaks:"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,a.jsx)("span",{className:"bg-yellow-100 text-yellow-800 text-sm font-medium px-3 py-1 rounded-full shadow-sm",children:"\uD83D\uDCB0 Savings Master"}),(0,a.jsx)("span",{className:"bg-green-100 text-green-800 text-sm font-medium px-3 py-1 rounded-full shadow-sm",children:"\uD83D\uDD25 30-Day Streak"}),(0,a.jsx)("span",{className:"bg-purple-100 text-purple-800 text-sm font-medium px-3 py-1 rounded-full shadow-sm",children:"\uD83C\uDFAF Goal Achiever"})]})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("button",{onClick:t,className:"w-full bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:"Upload Receipt ✨ (AI Scan)"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"*This feature would use Gemini for turning paper receipts into smart data!"})]})]})},m="AIzaSyDtc7q4X0zbAWq3QcWBCCY71oF2JCrVdpI";async function x(e){if(!m)return console.error("NEXT_PUBLIC_GEMINI_API_KEY is not set. Cannot call Gemini API from client-side."),"Error: Client-side API key not configured. Please check your .env.local file.";try{let s=[];s.push({role:"user",parts:[{text:e}]});let t=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=".concat(m),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:s})}),a=await t.json();if(a.candidates&&a.candidates.length>0&&a.candidates[0].content&&a.candidates[0].content.parts&&a.candidates[0].content.parts.length>0)return a.candidates[0].content.parts[0].text;return console.error("Gemini API response structure unexpected:",a),null}catch(e){return console.error("Error calling Gemini API:",e),null}}async function g(e,s){if(!m)return console.error("NEXT_PUBLIC_GEMINI_API_KEY is not set. Cannot call Gemini Vision API from client-side."),"Error: Client-side API key not configured. Please check your .env.local file.";try{let t=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=".concat(m),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{role:"user",parts:[{text:e},{inlineData:s}]}]})}),a=await t.json();if(a.candidates&&a.candidates.length>0&&a.candidates[0].content&&a.candidates[0].content.parts&&a.candidates[0].content.parts.length>0)return a.candidates[0].content.parts[0].text;return console.error("Gemini Vision API response structure unexpected:",a),null}catch(e){return console.error("Error calling Gemini Vision API:",e),null}}let u=e=>{let{spendingData:s,savingsGoals:t}=e,[n,i]=(0,r.useState)([{role:"advisor",text:"Hello! How can I help you manage your finances today?"}]),[l,o]=(0,r.useState)(""),[c,d]=(0,r.useState)(!1),m=async e=>{if(e.preventDefault(),l.trim()){let e=l.trim();i([...n,{role:"user",text:e}]),o(""),d(!0);try{let a="You are a helpful financial advisor. Provide concise and actionable advice based on the user's query. User: \"".concat(e,'". Current spending data: ').concat(JSON.stringify(s),". Savings goals: ").concat(JSON.stringify(t),"."),r=await x(a);r?i(e=>[...e,{role:"advisor",text:r}]):i(e=>[...e,{role:"advisor",text:"Sorry, I could not get a response. Please try again."}])}catch(e){console.error("Error calling Gemini API for advisor:",e),i(e=>[...e,{role:"advisor",text:"An error occurred while connecting to the advisor. Please try again later."}])}finally{d(!1)}}};return(0,a.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6 flex flex-col h-[400px]",children:[(0,a.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold text-indigo-600 mb-4",children:"Personal Finance Advisor"}),(0,a.jsxs)("div",{className:"flex-grow overflow-y-auto border border-gray-200 rounded-md p-3 mb-4 space-y-3 bg-gray-50",children:[n.map((e,s)=>(0,a.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,a.jsx)("div",{className:"max-w-[80%] p-2 rounded-lg ".concat("user"===e.role?"bg-indigo-500 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-bl-none"),children:e.text})},s)),c&&(0,a.jsx)("div",{className:"flex justify-start",children:(0,a.jsx)("div",{className:"bg-gray-200 text-gray-700 p-2 rounded-lg rounded-bl-none animate-pulse",children:"Thinking..."})})]}),(0,a.jsxs)("form",{onSubmit:m,className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:l,onChange:e=>o(e.target.value),placeholder:"Ask me anything about your finances...",className:"flex-grow p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:c}),(0,a.jsx)("button",{type:"submit",className:"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:c,children:"Send ✨"})]})]})},h=e=>{let{smartCartItems:s}=e,[t,n]=(0,r.useState)([]),[i,l]=(0,r.useState)(!1),o=async()=>{l(!0),n([]);try{let e="Based on the following smart cart items, suggest 3 new, interesting, or eco-friendly product ideas. Format as a comma-separated list. Smart Cart Items: ".concat(s.map(e=>e.name).join(", "),"."),t=await x(e);t?n(t.split(",").map(e=>e.trim())):n(["No new suggestions at the moment."])}catch(e){console.error("Error calling Gemini API for surprise me:",e),n(["Failed to get suggestions."])}finally{l(!1)}};return(0,a.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold text-indigo-600 mb-4",children:"Smart Cart"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Detects repeat purchases and suggests smart shopping lists."}),(0,a.jsx)("ul",{className:"space-y-3",children:s.map(e=>(0,a.jsxs)("li",{className:"flex justify-between items-center bg-green-50 p-3 rounded-md shadow-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-green-800",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Last purchased: ",e.lastPurchase]})]}),(0,a.jsx)("span",{className:"text-xs text-green-600",children:e.frequency})]},e.id))}),(0,a.jsx)("button",{onClick:o,className:"mt-4 w-full bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:i,children:'"Surprise Me" (New Picks!) ✨ '}),i&&(0,a.jsx)("p",{className:"text-center text-sm text-gray-500 mt-2",children:"Generating suggestions..."}),t.length>0&&(0,a.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 rounded-md shadow-sm",children:[(0,a.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"Suggestions for you:"}),(0,a.jsx)("ul",{className:"list-disc list-inside text-sm text-blue-700",children:t.map((e,s)=>(0,a.jsx)("li",{children:e},s))})]})]})},p=e=>{let{warrantyItems:s}=e;return(0,a.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold text-indigo-600 mb-4",children:"Smart Warranty & Return Tracker"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Never miss a warranty or return deadline again."}),(0,a.jsx)("ul",{className:"space-y-3",children:s.map(e=>(0,a.jsxs)("li",{className:"flex justify-between items-center bg-red-50 p-3 rounded-md shadow-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-red-800",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Warranty ends: ",e.warrantyEndDate]})]}),(0,a.jsx)("span",{className:"text-xs font-semibold px-2 py-1 rounded-full ".concat("Active"===e.status?"bg-green-200 text-green-800":"bg-red-200 text-red-800"),children:e.status})]},e.id))})]})},f=e=>{let{children:s,variant:t="primary",size:r="md",className:n="",...i}=e;return(0,a.jsx)("button",{className:"".concat("rounded-md font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-200"," ").concat({primary:"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-400",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"}[t]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-5 py-2.5 text-lg"}[r]," ").concat(n),...i,children:s})},j=e=>{let{isOpen:s,onClose:t,title:r,children:n,footer:i}=e;return s?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full p-6 relative",children:[(0,a.jsx)("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":"Close modal",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-indigo-700 mb-4 pr-10",children:r}),(0,a.jsx)("div",{className:"mb-6 text-gray-700",children:n}),i?(0,a.jsx)("div",{className:"flex justify-end space-x-3",children:i}):(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(f,{onClick:t,variant:"secondary",children:"Close"})})]})}):null},y=()=>{let[e,s]=(0,r.useState)([{category:"Groceries",amount:450,color:"#EF4444",percentage:25},{category:"Utilities",amount:180,color:"#3B82F6",percentage:10},{category:"Transport",amount:120,color:"#F59E0B",percentage:7},{category:"Dining Out",amount:200,color:"#10B981",percentage:11},{category:"Entertainment",amount:90,color:"#8B5CF6",percentage:5},{category:"Shopping",amount:300,color:"#EC4899",percentage:17},{category:"Rent",amount:500,color:"#6B7280",percentage:25}]),[t,i]=(0,r.useState)([{name:"New Gadget",target:1e3,current:650,progress:65},{name:"Vacation Fund",target:2500,current:800,progress:32},{name:"Emergency Fund",target:5e3,current:3500,progress:70}]),[l,m]=(0,r.useState)([{id:1,name:"Smart TV",purchaseDate:"2023-01-15",warrantyEndDate:"2026-01-15",status:"Active"},{id:2,name:"Laptop",purchaseDate:"2024-03-10",warrantyEndDate:"2025-03-10",status:"Active"},{id:3,name:"Coffee Machine",purchaseDate:"2023-09-01",warrantyEndDate:"2024-09-01",status:"Expired"}]),[x,y]=(0,r.useState)([{id:1,name:"Organic Milk",lastPurchase:"2 weeks ago",frequency:"Bi-weekly"},{id:2,name:"Coffee Beans",lastPurchase:"1 month ago",frequency:"Monthly"},{id:3,name:"Laundry Detergent",lastPurchase:"3 weeks ago",frequency:"Monthly"}]),[b,w]=(0,r.useState)(!1),[N,v]=(0,r.useState)(!1),[k,S]=(0,r.useState)(null),[C,D]=(0,r.useState)(!1),[I,A]=(0,r.useState)(""),[E,P]=(0,r.useState)(null),F=e.reduce((e,s)=>e+s.amount,0),L=t.reduce((e,s)=>e+s.current,0),M=t.reduce((e,s)=>e+(s.target-s.current),0),B=async()=>{if(!k)return void A("Please select an image file first.");D(!0),A("Reading file and processing receipt...");let e=new FileReader;e.readAsDataURL(k),e.onloadend=async()=>{if("string"==typeof e.result){let s=e.result.split(",")[1],t=k.type;try{let e=await g('\n          Analyze this receipt image and extract the following information in JSON format.\n          If a field is not found, omit it.\n          {\n            "totalAmount": <number, e.g., 25.75>,\n            "date": "<string, e.g., YYYY-MM-DD>",\n            "items": [\n              {"name": "<string>", "price": <number>},\n              {"name": "<string>", "price": <number>}\n            ],\n            "category": "<string, e.g., Groceries, Electronics, Dining>",\n            "warrantyInfo": "<string, any text indicating warranty terms or duration>"\n          }\n        ',{mimeType:t,data:s});if(e){let s={};try{let t=e.replace(/```json\n?|\n?```/g,"").trim();s=JSON.parse(t),P(s),A("Receipt processed successfully!"),console.log("Extracted Receipt Data:",s)}catch(s){console.error("Failed to parse LLM response as JSON:",s),A("AI response was not valid JSON. Raw response: ".concat(e)),P({})}}else A("Failed to get a response from the AI.")}catch(e){console.error("Error calling Gemini Vision API:",e),A("Failed to process receipt: ".concat(e instanceof Error?e.message:String(e)))}finally{D(!1)}}else A("Failed to read file as Base64."),D(!1)},e.onerror=e=>{console.error("FileReader error:",e),A("Error reading file."),D(!1)}};return(0,a.jsxs)("div",{className:"flex min-h-screen bg-gray-100 font-inter text-gray-800",children:[(0,a.jsx)(n,{isSidebarOpen:b,setIsSidebarOpen:w}),b&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:()=>w(!1)}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col transition-all duration-300 ease-in-out ".concat(b?"lg:ml-64":"lg:ml-0"," z-10"),children:[(0,a.jsx)(o,{setIsSidebarOpen:w}),(0,a.jsxs)("main",{className:"p-4 sm:p-6 lg:p-8 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("section",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsx)(c,{spendingData:e,totalSpending:F,totalSavings:L,projectedSavings:M}),(0,a.jsx)(d,{savingsGoals:t,handleReceiptUpload:()=>{v(!0),S(null),A(""),P(null)}})]}),(0,a.jsxs)("section",{className:"lg:col-span-1 space-y-6",children:[(0,a.jsx)(u,{spendingData:e,savingsGoals:t}),(0,a.jsx)(h,{smartCartItems:x}),(0,a.jsx)(p,{warrantyItems:l})]})]}),(0,a.jsx)("footer",{className:"mt-8 text-center text-gray-500 text-sm p-4",children:(0,a.jsxs)("p",{children:["Powered by vibecoderz for smart financial insights.",(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"font-medium",children:"Local Language Support:"})," Insights and advice in your preferred language."]})})]}),(0,a.jsxs)(j,{isOpen:N,onClose:()=>v(!1),title:"Upload Receipt for AI Scan",footer:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(f,{onClick:()=>v(!1),variant:"secondary",disabled:C,children:"Close"}),(0,a.jsx)(f,{onClick:B,disabled:!k||C,children:C?"Processing...":"Upload & Scan"})]}),children:[(0,a.jsx)("p",{className:"mb-4",children:"Upload an image of your receipt. Our AI will extract key details like total amount, items, and date."}),(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files[0]){let s=e.target.files[0];S(s),A("Selected: ".concat(s.name))}else S(null),A("")},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100"}),I&&(0,a.jsx)("p",{className:"mt-3 text-sm ".concat(C?"text-blue-600":E?"text-green-600":"text-red-600"),children:I}),E&&(0,a.jsxs)("div",{className:"mt-4 p-3 bg-gray-50 rounded-md border border-gray-200",children:[(0,a.jsx)("h5",{className:"font-semibold text-gray-800 mb-2",children:"Extracted Data:"}),E.totalAmount&&(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Total:"})," $",E.totalAmount.toFixed(2)]}),E.date&&(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Date:"})," ",E.date]}),E.category&&(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Category:"})," ",E.category]}),E.warrantyInfo&&(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Warranty:"})," ",E.warrantyInfo]}),E.items&&E.items.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"mt-2",children:(0,a.jsx)("strong",{children:"Items:"})}),(0,a.jsx)("ul",{className:"list-disc list-inside text-sm pl-4",children:E.items.map((e,s)=>(0,a.jsxs)("li",{children:[e.name,": $",e.price.toFixed(2)]},s))})]}),0===Object.keys(E).length&&(0,a.jsx)("p",{children:"No specific data extracted. Check console for raw LLM response."})]})]})]})}},6760:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(1852)}])}},e=>{e.O(0,[587,636,593,792],()=>e(e.s=6760)),_N_E=e.O()}]);